<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>AI 복덕방 - 상세정보</title>
	
	<!-- cross browsing 방지 -->
	<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.2, minimum-scale=0.8'>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	
	<!-- css -->
	<link href='/static/css/basic.css' rel='stylesheet'>
	<style>
	h2{color: #f79318;}
	</style>
	
	<!-- font -->
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
	
	<!-- java script -->
	<script src='/static/js/jquery-1.12.4.min.js'></script>
	<script src='/static/js/main.js'></script>
	<script src='/static/js/prefixfree.dynamic-dom.js'></script>
	
	<!-- slider 집 값 예측 -->
	<style>
	.slider {
    -webkit-appearance: none;
    width: 400px;
    height: 15px;
    border-radius: 5px;
    background: #d3d3d3;
    outline: none;
    opacity: 0.7;
    -webkit-transition: .2s;
    transition: opacity .2s;
	}
	
	.slider:hover {
	    opacity: 1;
	}
	
	.slider::-webkit-slider-thumb {
	    -webkit-appearance: none;
	    appearance: none;
	    width: 25px;
	    height: 25px;
	    border-radius: 50%;
	    background: #f79318;
	    cursor: pointer;
	}
	
	.slider::-moz-range-thumb {
	    width: 25px;
	    height: 25px;
	    border-radius: 50%;
	    background: #4CAF50;
	    cursor: pointer;
	}
</style>
</head>
<body>
<!-- 디자인용 -->
<div class="containerBg"></div>
<!-- 전체 -->
<div class="container">
	{% block header %}
		{% include "left.html"%}
	{% endblock %}
	<!-- 본문 -->
	<div class="contents">
		<!-- 검색창 -->
		<div class="aptName">
			{{apt}}
		</div>
		
		<div class='cityName'>
			{{city}}  {{addr_kr}}
		</div>
		<hr>
		<div class='area'>
			<span class='column'>전용면적</span> : {{area}}m<sup>2</sup>({{area_pyeong}}평)
		</div>
		<div class='buildDate'>
			<span class='column'>완공연도</span> : {{year_of_completion}}년
		</div>
		<div class='floor'>
			<span class='column'>층&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;수</span> : {{floor}}층
		</div>
		<hr>

		<div class='floor'>
			<span class='column'> 공원면적(구 기준) </span> : {{parksum}}m<sup>2</sup>
		</div>
		<div class='floor'>
			<span class='column'> 교사 1인당 담당 유치원생 비율(구 기준)</span>: {{bteacherrate}}명
		</div>
		<div class='floor'>
			<span class='column'>CCTV 수(구 기준)</span>: {{gu_cctv}}개
		</div>
		<div class='floor'>
			<span class='column'>평균 거래액(구 기준)</span>: {{ gu_mean_price }}만원
		</div>
		<hr>
		
		<div class='floor'>
			<span class='column'>최근 해당 단지 거래날짜</span>: {{transaction_year_month}}월
		</div>
		<div class='floor'>
			<span class='column'>최근 해당 단지 평균 거래액수</span>: {{maxdate_avgcost}}만원
		</div>
		<div class='floor'>
			<span class='column'>최근 해당 단지 평당 평균 거래액</span>: {{avgcost_per_pyeong}}만원
		</div>
			
		<hr>
		<div>
			<table class="table">
				<tr>
  					<th>거래 연월</th><th>전용 면적</th><th>층</th><th>거래 가격(만원)</th><th>지역구 평균금액</th>
  				</tr>
					{% if dataset %}
					{% for data in dataset %}
				<tr>
					<td>{{ data.transaction_year_month}}</td>
					<td>{{ data.exclusive_use_area}} m<sup>2</sup></td>
					<td> {{ data.floor}}층 </td>
					<td>{{ data.transaction_real_price}}만원</td>
					<td>{{ gu_mean_price}}만원</td>
				</tr>
					{% endfor %}
				<tr>
   					<td colspan="5" style="text-align: center;">
   						{% if dataset.paginator.num_pages > 1 %}  {# paginator.num_pages : 전체 페이지 수 #}
  	   				<div>
  	   				{% if dataset.has_previous %}
  	   				  	<a href="/info?page={{dataset.previous_page_number}}&apartment_id={{apartment_id}}">&laquo;이전</a>
  	   				{% endif %}

  	   				{% if dataset.has_next %}
  	   					<a href="/info?page={{dataset.next_page_number}}&apartment_id={{apartment_id}}">다음&raquo;</a>
  	   				{% endif %}
  	   			&nbsp;&nbsp;
  	   				(페이지 : {{dataset.number}} / {{dataset.paginator.num_pages}})
  	   				</div>
					{% endif %}
   					</td>
   				</tr>
					{% else %}
  				<tr><td colspan="5">글이 없어요</td></tr>
				{% endif %}
			</table>
		</div>
		<br><br><br>
		
		<!-- slider 집 값 예측 -->
		<h2>해당 아파트 미래 집 값 예측하기</h2><br>
		<div id="slidecontainer">
		  <input type="range" min="0" max="3" value="3" class="slider" id="myRange">
		  <p> <span id="demo"></span></p>
		</div>
		<script>
		var steps = [
		    "1년 후",
		    "3년 후",
		    "5년 후",
		    "10년 후"
		];
		var slider = document.getElementById("myRange");
		var output = document.getElementById("demo");
		output.innerHTML = steps[slider.value]; // Display the default slider value
		
		// Update the current slider value (each time you drag the slider handle)
		slider.oninput = function() {
		    output.innerHTML = steps[this.value];
		
			var value = steps[slider.value];
			var year;
			if(value == "1년 후"){
	            year = 1;
	            //alert(year);
	            output.innerHTML += " 예상 집 값은000원 입니다.";
	        } else if(value == "3년 후"){
	        	year = 3;
	        } else if(value == "5년 후"){
	        	year = 5;
	        } else {
	        	year = 10;
	        } 
		
		}
		
		</script>
	</div>
</div>
</body>
</html>
